"use strict";(self.webpackChunkthecapitalhub=self.webpackChunkthecapitalhub||[]).push([[7402],{16150:function(e,s,n){n(72791);s.Z=n.p+"static/media/Group 15186.a1f57c594748bb543bda38efc1ec1d61.svg"},3343:function(e,s,n){n.d(s,{Z:function(){return i}});n(72791);n.p;var a=n(59434),t=n(80184),i=function(e){var s;e.className,e.text,e.width,(0,a.v9)((function(e){return e.user.loggedInUser})),s=(new Date).toDateString(),new Date(s).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric"});return(0,t.jsx)(t.Fragment,{})}},87402:function(e,s,n){n.r(s),n.d(s,{default:function(){return v}});var a=n(4942),t=n(1413),i=n(29439),c=n(3343),r=n(16150),l=n(11087),o=n(89254),d=n(72791),u=n(18909),m=n(59434),h=n(57689),x=n(97827),f=n(32328),g=n(92986),j=n(18772),w=n(80184),v=function(){var e=(0,m.v9)((function(e){return e.user.loggedInUser})),s=(0,d.useState)(JSON.parse(localStorage.getItem("StartupAccounts"))||[]),n=(0,i.Z)(s,2),v=n[0],N=n[1],p=(0,d.useState)(e),b=(0,i.Z)(p,2),_=b[0],P=b[1],S=(0,d.useState)(null),k=(0,i.Z)(S,2),Z=k[0],y=k[1],C=(0,d.useState)(!1),A=(0,i.Z)(C,2),I=A[0],L=A[1],U={oldPassword:"",newPassword:"",confirmNewPassword:""},D=(0,d.useState)((0,t.Z)({},U)),F=(0,i.Z)(D,2),O=F[0],T=F[1],q=(0,d.useState)(!1),J=(0,i.Z)(q,2),M=J[0],W=J[1],E=function(e){W(!1);var s=e.target,n=s.name,i=s.value;T((function(e){return(0,t.Z)((0,t.Z)({},e),{},(0,a.Z)({},n,i))}))},G=(0,m.I0)();(0,d.useEffect)((function(){document.title="Manage Account | The Capital Hub",G((0,g.Iw)("Manage Account"))}),[G]);var H=(0,d.useState)(!1),V=(0,i.Z)(H,2),z=V[0],B=V[1],K=(0,h.s0)(),Q=function(){G((0,x.kS)()),localStorage.removeItem("isLoggedIn"),K("/login")};return(0,w.jsx)(f.Z,{children:(0,w.jsx)("div",{className:"manage_account_container",children:(0,w.jsx)("div",{className:"row",children:(0,w.jsxs)("div",{className:"col",children:[(0,w.jsx)(c.Z,{className:"mt-5 mt-xl-3",text:"Manage Account"}),(0,w.jsxs)("div",{className:"box_container p-4 mt-4 row row-cols-1 row-cols-lg-2 row-cols-xl-3 row-gap-3 flex-lg-row",children:[(0,w.jsx)("section",{className:"col password_section",children:(0,w.jsxs)("div",{className:"change_password border",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,w.jsx)("div",{className:"logo",children:(0,w.jsx)("img",{src:r.Z,alt:"img"})}),(0,w.jsx)("div",{className:"header_text",children:"Change Password"})]}),(0,w.jsx)("hr",{}),(0,w.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),O.confirmNewPassword!==O.newPassword)return W("Passwords don't match");(0,o.Ul)(O).then((function(e){var s=e.message;W(s),T(U)})).catch((function(e){var s=e.message;return W(s)})).finally((function(){return setTimeout((function(){return W(!1)}),3e3)}))},className:"d-flex flex-column",children:[(0,w.jsxs)("div",{className:"form-input col",children:[(0,w.jsx)("label",{htmlFor:"oldPassword",children:"Old Password"}),(0,w.jsx)("input",{id:"oldPassword",type:"text",value:O.oldPassword,onChange:E,name:"oldPassword",required:!0})]}),(0,w.jsxs)("div",{className:"form-input col",children:[(0,w.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),(0,w.jsx)("input",{id:"newPassword",type:"password",name:"newPassword",value:O.newPassword,onChange:E,required:!0})]}),(0,w.jsxs)("div",{className:"form-input col",children:[(0,w.jsx)("label",{htmlFor:"confirmNewPassword",children:"Confirm Password"}),(0,w.jsx)("input",{id:"confirmNewPassword",type:"password",name:"confirmNewPassword",value:O.confirmNewPassword,onChange:E,required:!0})]}),(0,w.jsxs)("div",{className:"footer w-100",children:[M&&(0,w.jsx)("p",{className:"text-center",children:M}),(0,w.jsx)("button",{type:"submit",className:"w-100",children:"Save Changes"})]})]})]})}),(0,w.jsx)("section",{className:"col present_accounts_section",children:(0,w.jsxs)("div",{className:"present_account border",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"logo",children:(0,w.jsx)("img",{src:r.Z,alt:"img"})}),(0,w.jsx)("div",{className:"header_text",children:"Present account"})]}),(0,w.jsx)("hr",{}),(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"profile_image",children:(0,w.jsx)("img",{src:null===e||void 0===e?void 0:e.profilePicture,alt:"img"})}),(0,w.jsxs)("div",{className:"name_email",children:[(0,w.jsxs)("h4",{className:"text-break",children:[null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName]}),(0,w.jsx)("h6",{className:"text-break",children:null===e||void 0===e?void 0:e.email})]})]}),(0,w.jsxs)("div",{className:"footer",children:[(0,w.jsx)(l.rU,{to:"/profile",children:(0,w.jsx)("button",{className:"btn-delete",children:"View profile"})}),(0,w.jsx)("button",{className:" btn-delete",onClick:B,style:{marginLeft:"10px"},children:"Log out"}),z&&(0,w.jsx)(u.Z,{setShowLogoutPopup:B,handleLogoutLogic:Q,showLogoutPopup:!0})]})]})}),(0,w.jsx)("section",{className:"col present_accounts_section",children:(0,w.jsxs)("div",{className:"present_account border",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"logo",children:(0,w.jsx)("img",{src:r.Z,alt:"img"})}),(0,w.jsx)("div",{className:"header_text",children:"Accounts"})]}),(0,w.jsx)("p",{}),(0,w.jsxs)("section",{className:"existing_accounts",children:[null===v||void 0===v?void 0:v.map((function(s){var n=s.user.firstName+" "+s.user.lastName;window.innerWidth<=600&&s.user.email.includes("com");return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"small_card",children:[(0,w.jsx)("div",{className:"left_section",children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsxs)("label",{className:"checkbox_container me-2",children:[(0,w.jsx)("input",{type:"checkbox",checked:s.user._id===_._id,onClick:function(){return function(e){P(e.user),y(e)}(s)}}),(0,w.jsx)("span",{className:"checkmark"})]}),(0,w.jsx)("div",{className:"profile_image",children:(0,w.jsx)("img",{src:s.user.profilePicture,alt:"img"})}),(0,w.jsxs)("div",{className:"name_email",children:[(0,w.jsx)("h4",{children:n}),(0,w.jsxs)("h6",{children:[" ",window.innerWidth<=600?s.user.email.slice(0,21)===s.user.email?s.user.email:s.user.email.slice(0,21)+"...":s.user.email.slice(0,23)===s.user.email?s.user.email:s.user.email.slice(0,23)+"..."]})]})]})}),(0,w.jsx)("div",{className:"right_section d-flex flex-column ",children:(0,w.jsx)("button",{className:"img-btn  pt-md-2",onClick:function(){return function(s){if(window.confirm("Are you sure you want to remove this account?")){var n=(JSON.parse(localStorage.getItem("StartupAccounts"))||[]).filter((function(e){return e.user._id!==s.user._id}));if(N(n),localStorage.setItem("StartupAccounts",JSON.stringify(n)),e&&e._id===s.user._id){var a=n.length>0?n[0].user:null;null===a?(Q(),K("/login")):G((0,x.he)(a))}}}(s)},children:(0,w.jsx)("img",{src:j,alt:"delete icon",className:"deleteIcon"})})})]})})})),(0,w.jsxs)("div",{className:"footer",children:[v.length>1&&(0,w.jsx)("button",{className:"btn btn-delete ",onClick:function(){if(Z){var e=window.confirm("Are you sure you want to switch account?");L(!0),e&&setTimeout((function(){G((0,x.he)(Z.user)),localStorage.setItem("accessToken",Z.token),L(!1)}),2e3)}},children:I?"Switching Account....":"Switch Account"}),(0,w.jsx)(l.rU,{to:"/login",children:(0,w.jsx)("button",{className:"btn btn-delete ",style:{marginLeft:"10px"},children:"Add account"})})]})]})]})})]})]})})})})}}}]);
//# sourceMappingURL=7402.00d24c88.chunk.js.map